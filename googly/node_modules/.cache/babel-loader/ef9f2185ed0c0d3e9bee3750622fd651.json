{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { useState, useEffect, useRef, cloneElement } from 'react';\nimport { render } from 'react-universal-interface';\nimport useLatest from './useLatest';\n\nvar noop = function () {};\n\nvar useScratch = function (params) {\n  if (params === void 0) {\n    params = {};\n  }\n\n  var disabled = params.disabled;\n  var paramsRef = useLatest(params);\n\n  var _a = useState({\n    isScratching: false\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var refState = useRef(state);\n  var refScratching = useRef(false);\n  var refAnimationFrame = useRef(null);\n\n  var _b = useState(null),\n      el = _b[0],\n      setEl = _b[1];\n\n  useEffect(function () {\n    if (disabled) return;\n    if (!el) return;\n\n    var onMoveEvent = function (docX, docY) {\n      cancelAnimationFrame(refAnimationFrame.current);\n      refAnimationFrame.current = requestAnimationFrame(function () {\n        var _a = el.getBoundingClientRect(),\n            left = _a.left,\n            top = _a.top;\n\n        var elX = left + window.scrollX;\n        var elY = top + window.scrollY;\n        var x = docX - elX;\n        var y = docY - elY;\n        setState(function (oldState) {\n          var newState = __assign(__assign({}, oldState), {\n            dx: x - (oldState.x || 0),\n            dy: y - (oldState.y || 0),\n            end: Date.now(),\n            isScratching: true\n          });\n\n          refState.current = newState;\n          (paramsRef.current.onScratch || noop)(newState);\n          return newState;\n        });\n      });\n    };\n\n    var onMouseMove = function (event) {\n      onMoveEvent(event.pageX, event.pageY);\n    };\n\n    var onTouchMove = function (event) {\n      onMoveEvent(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    };\n\n    var onMouseUp;\n    var onTouchEnd;\n\n    var stopScratching = function () {\n      if (!refScratching.current) return;\n      refScratching.current = false;\n      refState.current = __assign(__assign({}, refState.current), {\n        isScratching: false\n      });\n      (paramsRef.current.onScratchEnd || noop)(refState.current);\n      setState({\n        isScratching: false\n      });\n      window.removeEventListener('mousemove', onMouseMove);\n      window.removeEventListener('touchmove', onTouchMove);\n      window.removeEventListener('mouseup', onMouseUp);\n      window.removeEventListener('touchend', onTouchEnd);\n    };\n\n    onMouseUp = stopScratching;\n    onTouchEnd = stopScratching;\n\n    var startScratching = function (docX, docY) {\n      if (!refScratching.current) return;\n\n      var _a = el.getBoundingClientRect(),\n          left = _a.left,\n          top = _a.top;\n\n      var elX = left + window.scrollX;\n      var elY = top + window.scrollY;\n      var x = docX - elX;\n      var y = docY - elY;\n      var time = Date.now();\n      var newState = {\n        isScratching: true,\n        start: time,\n        end: time,\n        docX: docX,\n        docY: docY,\n        x: x,\n        y: y,\n        dx: 0,\n        dy: 0,\n        elH: el.offsetHeight,\n        elW: el.offsetWidth,\n        elX: elX,\n        elY: elY\n      };\n      refState.current = newState;\n      (paramsRef.current.onScratchStart || noop)(newState);\n      setState(newState);\n      window.addEventListener('mousemove', onMouseMove);\n      window.addEventListener('touchmove', onTouchMove);\n      window.addEventListener('mouseup', onMouseUp);\n      window.addEventListener('touchend', onTouchEnd);\n    };\n\n    var onMouseDown = function (event) {\n      refScratching.current = true;\n      startScratching(event.pageX, event.pageY);\n    };\n\n    var onTouchStart = function (event) {\n      refScratching.current = true;\n      startScratching(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    };\n\n    el.addEventListener('mousedown', onMouseDown);\n    el.addEventListener('touchstart', onTouchStart);\n    return function () {\n      el.removeEventListener('mousedown', onMouseDown);\n      el.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('mousemove', onMouseMove);\n      window.removeEventListener('touchmove', onTouchMove);\n      window.removeEventListener('mouseup', onMouseUp);\n      window.removeEventListener('touchend', onTouchEnd);\n      if (refAnimationFrame.current) cancelAnimationFrame(refAnimationFrame.current);\n      refAnimationFrame.current = null;\n      refScratching.current = false;\n      refState.current = {\n        isScratching: false\n      };\n      setState(refState.current);\n    };\n  }, [el, disabled, paramsRef]);\n  return [setEl, state];\n};\n\nexport var ScratchSensor = function (props) {\n  var children = props.children,\n      params = __rest(props, [\"children\"]);\n\n  var _a = useScratch(params),\n      ref = _a[0],\n      state = _a[1];\n\n  var element = render(props, state);\n  return cloneElement(element, __assign(__assign({}, element.props), {\n    ref: function (el) {\n      if (element.props.ref) {\n        if (typeof element.props.ref === 'object') element.props.ref.current = el;\n        if (typeof element.props.ref === 'function') element.props.ref(el);\n      }\n\n      ref(el);\n    }\n  }));\n};\nexport default useScratch;","map":{"version":3,"sources":["C:/Users/Owner/Documents/GitHub/Googly-Word-Game/googly/node_modules/react-use/esm/useScratch.js"],"names":["__assign","__rest","useState","useEffect","useRef","cloneElement","render","useLatest","noop","useScratch","params","disabled","paramsRef","_a","isScratching","state","setState","refState","refScratching","refAnimationFrame","_b","el","setEl","onMoveEvent","docX","docY","cancelAnimationFrame","current","requestAnimationFrame","getBoundingClientRect","left","top","elX","window","scrollX","elY","scrollY","x","y","oldState","newState","dx","dy","end","Date","now","onScratch","onMouseMove","event","pageX","pageY","onTouchMove","changedTouches","onMouseUp","onTouchEnd","stopScratching","onScratchEnd","removeEventListener","startScratching","time","start","elH","offsetHeight","elW","offsetWidth","onScratchStart","addEventListener","onMouseDown","onTouchStart","ScratchSensor","props","children","ref","element"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\r\nimport { useState, useEffect, useRef, cloneElement } from 'react';\r\nimport { render } from 'react-universal-interface';\r\nimport useLatest from './useLatest';\r\nvar noop = function () { };\r\nvar useScratch = function (params) {\r\n    if (params === void 0) { params = {}; }\r\n    var disabled = params.disabled;\r\n    var paramsRef = useLatest(params);\r\n    var _a = useState({ isScratching: false }), state = _a[0], setState = _a[1];\r\n    var refState = useRef(state);\r\n    var refScratching = useRef(false);\r\n    var refAnimationFrame = useRef(null);\r\n    var _b = useState(null), el = _b[0], setEl = _b[1];\r\n    useEffect(function () {\r\n        if (disabled)\r\n            return;\r\n        if (!el)\r\n            return;\r\n        var onMoveEvent = function (docX, docY) {\r\n            cancelAnimationFrame(refAnimationFrame.current);\r\n            refAnimationFrame.current = requestAnimationFrame(function () {\r\n                var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\r\n                var elX = left + window.scrollX;\r\n                var elY = top + window.scrollY;\r\n                var x = docX - elX;\r\n                var y = docY - elY;\r\n                setState(function (oldState) {\r\n                    var newState = __assign(__assign({}, oldState), { dx: x - (oldState.x || 0), dy: y - (oldState.y || 0), end: Date.now(), isScratching: true });\r\n                    refState.current = newState;\r\n                    (paramsRef.current.onScratch || noop)(newState);\r\n                    return newState;\r\n                });\r\n            });\r\n        };\r\n        var onMouseMove = function (event) {\r\n            onMoveEvent(event.pageX, event.pageY);\r\n        };\r\n        var onTouchMove = function (event) {\r\n            onMoveEvent(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\r\n        };\r\n        var onMouseUp;\r\n        var onTouchEnd;\r\n        var stopScratching = function () {\r\n            if (!refScratching.current)\r\n                return;\r\n            refScratching.current = false;\r\n            refState.current = __assign(__assign({}, refState.current), { isScratching: false });\r\n            (paramsRef.current.onScratchEnd || noop)(refState.current);\r\n            setState({ isScratching: false });\r\n            window.removeEventListener('mousemove', onMouseMove);\r\n            window.removeEventListener('touchmove', onTouchMove);\r\n            window.removeEventListener('mouseup', onMouseUp);\r\n            window.removeEventListener('touchend', onTouchEnd);\r\n        };\r\n        onMouseUp = stopScratching;\r\n        onTouchEnd = stopScratching;\r\n        var startScratching = function (docX, docY) {\r\n            if (!refScratching.current)\r\n                return;\r\n            var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\r\n            var elX = left + window.scrollX;\r\n            var elY = top + window.scrollY;\r\n            var x = docX - elX;\r\n            var y = docY - elY;\r\n            var time = Date.now();\r\n            var newState = {\r\n                isScratching: true,\r\n                start: time,\r\n                end: time,\r\n                docX: docX,\r\n                docY: docY,\r\n                x: x,\r\n                y: y,\r\n                dx: 0,\r\n                dy: 0,\r\n                elH: el.offsetHeight,\r\n                elW: el.offsetWidth,\r\n                elX: elX,\r\n                elY: elY,\r\n            };\r\n            refState.current = newState;\r\n            (paramsRef.current.onScratchStart || noop)(newState);\r\n            setState(newState);\r\n            window.addEventListener('mousemove', onMouseMove);\r\n            window.addEventListener('touchmove', onTouchMove);\r\n            window.addEventListener('mouseup', onMouseUp);\r\n            window.addEventListener('touchend', onTouchEnd);\r\n        };\r\n        var onMouseDown = function (event) {\r\n            refScratching.current = true;\r\n            startScratching(event.pageX, event.pageY);\r\n        };\r\n        var onTouchStart = function (event) {\r\n            refScratching.current = true;\r\n            startScratching(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\r\n        };\r\n        el.addEventListener('mousedown', onMouseDown);\r\n        el.addEventListener('touchstart', onTouchStart);\r\n        return function () {\r\n            el.removeEventListener('mousedown', onMouseDown);\r\n            el.removeEventListener('touchstart', onTouchStart);\r\n            window.removeEventListener('mousemove', onMouseMove);\r\n            window.removeEventListener('touchmove', onTouchMove);\r\n            window.removeEventListener('mouseup', onMouseUp);\r\n            window.removeEventListener('touchend', onTouchEnd);\r\n            if (refAnimationFrame.current)\r\n                cancelAnimationFrame(refAnimationFrame.current);\r\n            refAnimationFrame.current = null;\r\n            refScratching.current = false;\r\n            refState.current = { isScratching: false };\r\n            setState(refState.current);\r\n        };\r\n    }, [el, disabled, paramsRef]);\r\n    return [setEl, state];\r\n};\r\nexport var ScratchSensor = function (props) {\r\n    var children = props.children, params = __rest(props, [\"children\"]);\r\n    var _a = useScratch(params), ref = _a[0], state = _a[1];\r\n    var element = render(props, state);\r\n    return cloneElement(element, __assign(__assign({}, element.props), { ref: function (el) {\r\n            if (element.props.ref) {\r\n                if (typeof element.props.ref === 'object')\r\n                    element.props.ref.current = el;\r\n                if (typeof element.props.ref === 'function')\r\n                    element.props.ref(el);\r\n            }\r\n            ref(el);\r\n        } }));\r\n};\r\nexport default useScratch;\r\n"]},"metadata":{},"sourceType":"module"}